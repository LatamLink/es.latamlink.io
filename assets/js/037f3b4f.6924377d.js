(self.webpackChunkes_latamkink_io=self.webpackChunkes_latamkink_io||[]).push([[3121],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return d},kt:function(){return m}});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),c=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},p=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),p=c(a),m=n,k=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return a?r.createElement(k,s(s({ref:t},d),{},{components:a})):r.createElement(k,s({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,s=new Array(o);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,s[1]=i;for(var c=2;c<o;c++)s[c]=a[c];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}p.displayName="MDXCreateElement"},33556:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return s},metadata:function(){return i},toc:function(){return l},default:function(){return d}});var r=a(22122),n=a(19756),o=(a(67294),a(3905)),s={id:"recursos",title:"Uso de Recursos",sidebar_label:"Uso de Recursos"},i={unversionedId:"recursos",id:"recursos",isDocsHomePage:!1,title:"Uso de Recursos",description:"LACChain no tiene y no tendr\xe1 tarifas de transacci\xf3n. Sin embargo, para regular el uso de la red a sus l\xedmites t\xe9cnicos y evitar ataques de denegaci\xf3n de servicio, es necesario establecer un mecanismo para solicitar y asignar recursos de red.",source:"@site/docs/recursos.md",sourceDirName:".",slug:"/recursos",permalink:"/docs/recursos",editUrl:"https://github.com/LatamLink/es.latamlink.io/tree/master/docs/recursos.md",version:"current",lastUpdatedAt:1621806445,formattedLastUpdatedAt:"23/5/2021",sidebar_label:"Uso de Recursos",frontMatter:{id:"recursos",title:"Uso de Recursos",sidebar_label:"Uso de Recursos"},sidebar:"docs",previous:{title:"Autorizaciones y Trazabilidad",permalink:"/docs/trazabilidad"},next:{title:"Topolog\xeda de Red",permalink:"/docs/topologia-red"}},l=[{value:"Video Sobre Recursos de red LACChain EOSIO",id:"video-sobre-recursos-de-red-lacchain-eosio",children:[]},{value:"Tipos de Recursos",id:"tipos-de-recursos",children:[{value:"RAM",id:"ram",children:[]},{value:"CPU",id:"cpu",children:[]},{value:"Network (NET)",id:"network-net",children:[]}]},{value:"Limite de recursos de la RED",id:"limite-de-recursos-de-la-red",children:[{value:"Distribuci\xf3n de Recursos",id:"distribuci\xf3n-de-recursos",children:[]},{value:"Usuarios",id:"usuarios",children:[]}]},{value:"L\xedmites de recursos de la cuenta",id:"l\xedmites-de-recursos-de-la-cuenta",children:[]},{value:"Contabilidad de recursos",id:"contabilidad-de-recursos",children:[]},{value:"CPU y NET como recursos el\xe1sticos",id:"cpu-y-net-como-recursos-el\xe1sticos",children:[]}],c={toc:l};function d(e){var t=e.components,s=(0,n.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,r.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"LACChain no tiene y no tendr\xe1 tarifas de transacci\xf3n. Sin embargo, para regular el uso de la red a sus l\xedmites t\xe9cnicos y evitar ataques de denegaci\xf3n de servicio, es necesario establecer un mecanismo para solicitar y asignar recursos de red."),(0,o.kt)("h2",{id:"video-sobre-recursos-de-red-lacchain-eosio"},"Video Sobre Recursos de red LACChain EOSIO"),(0,o.kt)("p",null,"En este video Matias Romeo explica c\xf3mo se distribuyen los recursos de la red en la red LACChain EOSIO."),(0,o.kt)("iframe",{width:"100%",height:"350px",src:"https://www.youtube.com/embed/q-4LNfv4XtQ?start=3375",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0,mark:"crwd-mark"}),(0,o.kt)("h2",{id:"tipos-de-recursos"},"Tipos de Recursos"),(0,o.kt)("p",null,"Las cuentas podr\xe1n utilizar los siguientes tipos de recursos en la red:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},(0,o.kt)("a",{parentName:"strong",href:"/docs/recursos#ram"},"RAM"))),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},(0,o.kt)("a",{parentName:"strong",href:"/docs/recursos#cpu"},"CPU"))),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},(0,o.kt)("a",{parentName:"strong",href:"/docs/recursos#network-net"},"NET"))))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Memoria para almacenar el estado"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Tiempo de procesamiento"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Ancho de banda para transmitir informaci\xf3n")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Se mide en bytes"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Se mide en microsegundos"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Se mide en bytes")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Es un recurso limitado Actualmente 32GB"),(0,o.kt)("td",{parentName:"tr",align:"center"},"CPU se repondr\xe1 por completo cuando la cuenta no est\xe9 usando la red durante 24 horas"),(0,o.kt)("td",{parentName:"tr",align:"center"},"NET se repondr\xe1 por completo cuando la cuenta no est\xe9 usando la red durante 24 horas")))),(0,o.kt)("h3",{id:"ram"},"RAM"),(0,o.kt)("p",null,"En una red EOSIO, la RAM es el espacio de almacenamiento de memoria donde la cadena de bloques almacena datos, se mide en kilobytes (KiB). Si su contrato necesita almacenar datos en una tabla de blockchain, como en una base de datos, puede almacenarlos en la RAM de blockchain."),(0,o.kt)("p",null,"RAM es un recurso muy importante y es limitado. Se utiliza al ejecutar muchas acciones que est\xe1n disponibles en la cadena de bloques, al crear una nueva cuenta, por ejemplo, la informaci\xf3n de esa cuenta se almacena en la memoria de la cadena de bloques. Un ejemplo del uso de RAM es cuando una cuenta acepta un nuevo tipo de token, se debe crear un nuevo registro en alg\xfan lugar de la memoria de blockchain que contenga el saldo del nuevo token aceptado, y esa memoria, el espacio de almacenamiento en blockchain, debe ser comprada por la cuenta que transfiere el token o por la cuenta que acepta el nuevo tipo de token."),(0,o.kt)("p",null,"RAM es referido como ",(0,o.kt)("inlineCode",{parentName:"p"},"memory")," al ejecutar el siguiente comando: "),(0,o.kt)("h4",{id:"entrada"},"Entrada"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cleos get account\n")),(0,o.kt)("h4",{id:"salida"},"Salida"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-cpp"},"memory: quota:     86.68 KiB    used:     11.62 KiB  \n")),(0,o.kt)("p",null,"Puede encontrar m\xe1s detalles sobre RAM como recurso del sistema ",(0,o.kt)("a",{parentName:"p",href:"https://developers.eos.io/manuals/eosio.contracts/latest/key-concepts/ram"},"aqu\xed"),"."),(0,o.kt)("h3",{id:"cpu"},"CPU"),(0,o.kt)("p",null,"CPU es el poder de procesamiento, la cantidad de CPU que tiene una cuenta se mide en microsegundos (\u03bcs), se conoce como ",(0,o.kt)("inlineCode",{parentName:"p"},"CPU bandwith"),", el siguiente comando emite la cantidad de tiempo de procesamiento que una cuenta tiene a su disposici\xf3n al enviar acciones a un contrato."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cleos get account\n")),(0,o.kt)("p",null,"Puede encontrar m\xe1s detalles sobre la CPU como recurso del sistema ",(0,o.kt)("a",{parentName:"p",href:"https://developers.eos.io/manuals/eosio.contracts/latest/key-concepts/cpu"},"aqu\xed"),"."),(0,o.kt)("h3",{id:"network-net"},"Network (NET)"),(0,o.kt)("p",null,"Como CPU y RAM, NET tambi\xe9n es un recurso muy importante en las cadenas de bloques basadas en EOSIO. NET es el ancho de banda de la red medido en bytes de transacciones y se conoce como ",(0,o.kt)("inlineCode",{parentName:"p"},"net bandwidth"),"."),(0,o.kt)("p",null,"Puede encontrar m\xe1s detalles sobre NET como recurso del sistema ",(0,o.kt)("a",{parentName:"p",href:"https://developers.eos.io/manuals/eosio.contracts/latest/key-concepts/net"},"aqu\xed"),"."),(0,o.kt)("h2",{id:"limite-de-recursos-de-la-red"},"Limite de recursos de la RED"),(0,o.kt)("p",null,"A continuaci\xf3n se muestran una tabla que contiene los valores globales de los recursos con los que dispone el testnet de LACChain EOSIO, mismo son definidos en la capa de consenso cero, es aqu\xed donde est\xe1n definidas las interfaces para que el contrato de sistema pueda determinar la forma de distribuci\xf3n de estos recursos."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"CPU")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"NET")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"RAM")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"200 ms por bloque"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1 MB por bloque"),(0,o.kt)("td",{parentName:"tr",align:"center"},"32 GB")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"34.560 segundos CPU por d\xeda"),(0,o.kt)("td",{parentName:"tr",align:"center"},"172.800 MB por d\xeda"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Se aumenta seg\xfan demanda")))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Nota")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Se produce un bloque nuevo cada 500ms "))),(0,o.kt)("h3",{id:"distribuci\xf3n-de-recursos"},"Distribuci\xf3n de Recursos"),(0,o.kt)("p",null,"Las entidades que operan nodos escritores reciben una porci\xf3n equivalente de los recursos de la red. De tal manera que a cada nodo se le asigna ",(0,o.kt)("inlineCode",{parentName:"p"},"1/N")," de la totalidad de los recursos donde : "),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("inlineCode",{parentName:"strong"},"N = Numero de entidades permisionadas")),"."),(0,o.kt)("p",null," Si una entidad decide operar mas de un nodo escritor esto no afecta la cantidad de recursos que recibe."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"}),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"CPU")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"NET")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"RAM")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Comit\xe9 Permisionador"),(0,o.kt)("td",{parentName:"tr",align:"center"},"-"),(0,o.kt)("td",{parentName:"tr",align:"center"},"-"),(0,o.kt)("td",{parentName:"tr",align:"center"},"32 GB")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Entidades"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1/N del CPU total"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1/N del NET total"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Asignado por comit\xe9")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Nodos Escritores"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Utiliza CPUde la entidad"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Utiliza NET de la entidad"),(0,o.kt)("td",{parentName:"tr",align:"center"},"n/a")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Contratos Inteligentes"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 \u0173s"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 Bytes"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Asignado por entidad")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"Usuarios Finales"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 \u0173s"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 Bytes"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 Bytes")))),(0,o.kt)("h4",{id:"entidad-con-dos-nodos-escritores"},"Entidad con dos nodos escritores"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Recurso")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Distribuci\xf3n")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"CPU"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1/N \u2022 200 ms")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"NET"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1/N \u2022 1048 KiB")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"RAM"),(0,o.kt)("td",{parentName:"tr",align:"center"},"10000 KiB")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Ejemplo de Entidad 1",src:a(76227).Z})),(0,o.kt)("h4",{id:"entidad-con-un-nodo-escritor"},"Entidad con un nodo escritor"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Recurso")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Distribuci\xf3n")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"CPU"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1/N \u2022 200 ms")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"NET"),(0,o.kt)("td",{parentName:"tr",align:"center"},"1/N \u2022 1048 KiB")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"RAM"),(0,o.kt)("td",{parentName:"tr",align:"center"},"10000 KiB")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Ejemplo de Entidad 2",src:a(19981).Z})),(0,o.kt)("h4",{id:"entidad-sin-nodos"},"Entidad sin nodos"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Recurso")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Distribuci\xf3n")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"CPU"),(0,o.kt)("td",{parentName:"tr",align:"center"},"X txs per day")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"NET"),(0,o.kt)("td",{parentName:"tr",align:"center"},"X txs per day")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"RAM"),(0,o.kt)("td",{parentName:"tr",align:"center"},"10000 KiB")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Ejemplo de Entidad 3",src:a(23823).Z})),(0,o.kt)("h3",{id:"usuarios"},"Usuarios"),(0,o.kt)("p",null,"Los usuarios no poseen recursos de CPU y NET, estos son descontados de la cuenta del nodo escritor a la hora de co-firmar una transacci\xf3n. Estos solo poseen RAM misma que ser\xe1 necesaria para poder desplegar contratos en la red, para obtener este recurso el usuario debe solicit\xe1rselo a su partner, dicha solicitud, as\xed como la cantidad y el valor de esta es definido por cada partner ya que ellos cuentan con la autonom\xeda de administrar los recursos disponibles."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Recurso")),(0,o.kt)("th",{parentName:"tr",align:"center"},(0,o.kt)("strong",{parentName:"th"},"Distribuci\xf3n")))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"CPU"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 us")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"NET"),(0,o.kt)("td",{parentName:"tr",align:"center"},"0 KiB")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:"center"},"RAM"),(0,o.kt)("td",{parentName:"tr",align:"center"},"100 KiB")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Ejemplo de Autoridades Usuario",src:a(69094).Z})),(0,o.kt)("h2",{id:"l\xedmites-de-recursos-de-la-cuenta"},"L\xedmites de recursos de la cuenta"),(0,o.kt)("p",null,"Cada cuenta en una cadena de bloques basada en EOSIO tiene l\xedmites de recursos para CPU / NET y RAM asociados. Estos l\xedmites especifican cu\xe1nto de cada recurso puede usar la cuenta y se pueden cambiar din\xe1micamente llamando a la API privilegiada ",(0,o.kt)("inlineCode",{parentName:"p"},"set_resource_limits"),"."),(0,o.kt)("p",null,"La diferencia entre los l\xedmites de recursos de CPU / NET y RAM es que la RAM, dado que es un recurso limitado, una vez utilizada, la \xfanica forma de recuperarla es liberar el espacio de almacenamiento utilizado. Por otro lado, CPU y NET se repondr\xe1n por completo cuando la cuenta no est\xe9 utilizando la red durante un per\xedodo de tiempo. Por defecto, este per\xedodo se establece en 24 horas."),(0,o.kt)("h2",{id:"contabilidad-de-recursos"},"Contabilidad de recursos"),(0,o.kt)("p",null,"Cuando un usuario (cuenta) desea interactuar con un contrato inteligente (otra cuenta), se crea una transacci\xf3n con una acci\xf3n que especifica la funci\xf3n inteligente para llamar junto con la cuenta (nivel de permiso) que autoriza la acci\xf3n."),(0,o.kt)("p",null,"Luego, despu\xe9s de firmar con las claves que autorizan el nivel de permiso especificado en la acci\xf3n, la transacci\xf3n se transmite a la red hasta que alcanza el productor de bloques actual en la programaci\xf3n."),(0,o.kt)("p",null,"El productor de bloques ejecutar\xe1 todas las acciones dentro de la transacci\xf3n y facturar\xe1 el tiempo utilizado para ejecutarlas (CPU) a la primera cuenta que autoriza la primera acci\xf3n. Adem\xe1s, facturar\xe1 a la primera cuenta de autorizaci\xf3n por el tama\xf1o de la transacci\xf3n (NET)."),(0,o.kt)("p",null,"Si las acciones realizadas por el contrato inteligente implican alg\xfan tipo de almacenamiento de datos, el contrato inteligente puede elegir usar los recursos de RAM de cualquiera de las cuentas de autorizaci\xf3n de transacciones o usar los recursos de RAM de la cuenta del contrato inteligente."),(0,o.kt)("h2",{id:"cpu-y-net-como-recursos-el\xe1sticos"},"CPU y NET como recursos el\xe1sticos"),(0,o.kt)("p",null,"El ",(0,o.kt)("inlineCode",{parentName:"p"},"resource limit manager")," de una cadena de bloques basada en EOSIO es la parte del protocolo que realiza un seguimiento de la cantidad de recursos de red disponibles en cualquier momento y cu\xe1ntos recursos est\xe1 usando cada cuenta."),(0,o.kt)("p",null,"En particular, trata la CPU y NET como recursos el\xe1sticos que permiten a los usuarios consumir m\xe1s recursos de los que tienen derecho mientras este recurso est\xe1 por debajo del uso deseado (no congestionado)."),(0,o.kt)("p",null,"Un recurso el\xe1stico tiene las siguientes propiedades."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"El uso deseado."),(0,o.kt)("li",{parentName:"ul"},"El uso m\xe1ximo."),(0,o.kt)("li",{parentName:"ul"},"El n\xfamero de per\xedodos de agregaci\xf3n que contribuyen al uso promedio."),(0,o.kt)("li",{parentName:"ul"},"El multiplicador por el cual el espacio virtual puede sobrevender el uso cuando no est\xe1 congestionado."),(0,o.kt)("li",{parentName:"ul"},"La tasa a la cual un recurso congestionado contrae su l\xedmite."),(0,o.kt)("li",{parentName:"ul"},"La velocidad a la que un recurso no congestionado expande sus l\xedmites.")),(0,o.kt)("p",null,"Veamos la configuraci\xf3n predeterminada para el recurso de CPU como ejemplo:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c++"},"const static uint32_t default_max_block_cpu_usage        = 200'000; /// max block cpu usage in microseconds\nconst static uint32_t default_target_block_cpu_usage_pct = 10 * percent_1;\nconst static uint32_t block_cpu_usage_average_window_ms  = 60*1000l;\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c++"},"elastic_limit_parameters cpu_limit_parameters = {\n    EOS_PERCENT(config::default_max_block_cpu_usage, config::default_target_block_cpu_usage_pct), //10% of 200ms\n    config::default_max_block_cpu_usage,                                                          //200ms\n    config::block_cpu_usage_average_window_ms / config::block_interval_ms,                        //60s (120 blocks)\n    1000,                                                                                         //x1000 multiplier\n    {99, 100},                                                                                    //contract ratio 0.99 \n    {1000, 999}                                                                                   //expand ratio 1.001\n};\n")),(0,o.kt)("p",null,"Al hacer de la CPU un recurso el\xe1stico, se crear\xe1 una CPU virtual que oscilar\xe1 entre el valor m\xe1s bajo posible, que es el uso m\xe1ximo especificado, y el valor m\xe1s alto posible, que es el valor m\xe1s bajo posible multiplicador."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c++"},"virtual cpu = [[maximum usage, maximum usage * multiplier]]\n")),(0,o.kt)("p",null,"El l\xedmite de la CPU virtual se contraer\xe1 (o expandir\xe1) mediante la relaci\xf3n de expansi\xf3n,  cuando la utilizaci\xf3n promedio est\xe9 por encima (debajo) del uso deseado, lo que significa que lo m\xe1ximo que una cuenta puede consumir durante los per\xedodos de inactividad es 1000x (multiplicador) ancho de banda se garantiza bajo congesti\xf3n."),(0,o.kt)("p",null,"La utilizaci\xf3n promedio de la CPU se calcula utilizando un EMA (Promedio m\xf3vil exponencial) que otorga un mayor peso e importancia al uso m\xe1s reciente."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-c++"},"def update_elastic_limit(current_limit, average_usage, elastic_resource_limit) {\n   result = current_limit\n   if average_usage > elastic_resource_limit.target:\n      result = result * elastic_resource_limit.contract_rate\n   else:\n      result = result * elastic_resource_limit.expand_rate\n\n   return min(max(result, elastic_resource_limit.max), elastic_resource_limit.max * elastic_resource_limit.max_multiplier)\n")))}d.isMDXComponent=!0},76227:function(e,t,a){"use strict";t.Z=a.p+"assets/images/entity1-authorities-d9d59ddf52bf6e104ddeb982214c36aa.png"},19981:function(e,t,a){"use strict";t.Z=a.p+"assets/images/entity2-authorities-75baa9585dab849db31c50292783f127.png"},23823:function(e,t,a){"use strict";t.Z=a.p+"assets/images/entity3-authorities-a317f63039bf9ad688c46562fc9e220a.png"},69094:function(e,t,a){"use strict";t.Z=a.p+"assets/images/user-authorities-9c80ca31bbb6032880ee3f4efbaf5b7e.png"}}]);